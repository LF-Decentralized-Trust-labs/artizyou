<div class="col-lg-8">
  <%= render('devise/shared/social_media_login') %>
</div>
<div class="col-lg-6">
  <h2 class="devise-title"><%= t("devise.shared.links.sign_up") %></h2>

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
    <%= devise_error_messages! %>

    <% flash.each do |key, value| %>
      <% key = (key == 'notice' ? 'success' : key) %>
      <% key = (key == 'alert' ? 'danger' : key) %>

      <div class="alert alert-<%= key %>"><%= value %></div>
    <% end %>

    <% unless resource.user_plan.default? %>
      <div class="form-group has-float-label">
        <input type="text" name="promo_code" autofocus="true" class="form-control" placeholder=' ' disabled="true" value="<%= f.object.user_plan.plan.code %>">
        <%= f.label :promo_code %>
        <%= f.fields_for :user_plans do |user_plan_fields| %>
          <%= user_plan_fields.hidden_field :plan_id %>
        <% end %>
      </div>
    <% end %>

    <div class="form-group has-float-label">
      <%= f.email_field :email, autofocus: true, class: 'form-control', placeholder: ' ' %>
      <%= f.label :email %>
    </div>

    <div class="form-group has-float-label">
      <%= f.password_field :password, autocomplete: 'off', class: 'form-control', placeholder: '*******' %>
      <%= f.label :password %>
      <% if @minimum_password_length %>
        <em>(<%= @minimum_password_length %> <%= t('devise.char_min') %>)</em>
      <% end %>
    </div>

    <div class="form-group has-float-label">
      <%= f.password_field :password_confirmation, autocomplete: 'off', class: 'form-control', placeholder: '*******' %>
      <%= f.label :password_confirmation %>
    </div>

    <div class="actions text-center">
      <%= f.submit t("devise.registrations.new.sign_up_short"), class: 'btn btn-primary' %>
    </div>
  <% end %>

  <div class="devise-links">
    <%= render "devise/shared/links" %>
  </div>
</div>